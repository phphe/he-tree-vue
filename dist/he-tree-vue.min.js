/*!
 * he-tree-vue v3.1.2
 * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: https://he-tree-vue.phphe.com
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).heTreeVue={},e.Vue)}(this,(function(e,t){"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=o((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}));r(n);var a=o((function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));r(a);var l=o((function(e){e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports}));r(l),r(o((function(e){function t(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=t=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,r){var o=l(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})));var i=o((function(e){function t(r,o){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));r(i),r(o((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports})));var s=o((function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));r(s),r(o((function(e){var t=s.default;e.exports=function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports})));var c=o((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}));r(c);var d=o((function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports}));r(d);var u=o((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o},e.exports.__esModule=!0,e.exports.default=e.exports}));r(u);var h=o((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}));r(h);var f=o((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));r(f),r(o((function(e){e.exports=function(e,t){return c(e)||d(e,t)||h(e,t)||f()},e.exports.__esModule=!0,e.exports.default=e.exports})));var p=o((function(e){var t=s.default;e.exports=function(e,r){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,r||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));r(p);var g=o((function(e){var t=s.default;e.exports=function(e){var r=p(e,"string");return"symbol"===t(r)?r:String(r)},e.exports.__esModule=!0,e.exports.default=e.exports}));r(g);var v=r(o((function(e){function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,g(o.key),o)}}e.exports=function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),y=r(o((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}))),m=o((function(e){e.exports=function(e){if(Array.isArray(e))return u(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));r(m);var x=o((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));r(x);var b=o((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));r(b);var S=r(o((function(e){e.exports=function(e){return m(e)||x(e)||h(e)||b()},e.exports.__esModule=!0,e.exports.default=e.exports}))),E=o((function(e){var t=s.default;function r(){e.exports=r=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var o={},n=Object.prototype,a=n.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function h(e,t,r,o){var n=t&&t.prototype instanceof g?t:g,a=Object.create(n.prototype),i=new C(o||[]);return l(a,"_invoke",{value:N(e,r,i)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=h;var p={};function g(){}function v(){}function y(){}var m={};u(m,s,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(P([])));b&&b!==n&&a.call(b,s)&&(m=b);var S=y.prototype=g.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,r){var o;l(this,"_invoke",{value:function(n,l){function i(){return new r((function(o,i){!function o(n,l,i,s){var c=f(e[n],e,l);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==t(u)&&a.call(u,"__await")?r.resolve(u.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):r.resolve(u).then((function(e){d.value=e,i(d)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}(n,l,o,i)}))}return o=o?o.then(i,i):i()}})}function N(e,t,r){var o="suspendedStart";return function(n,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw a;return B()}for(r.method=n,r.arg=a;;){var l=r.delegate;if(l){var i=w(l,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var s=f(e,t,r);if("normal"===s.type){if(o=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o="completed",r.method="throw",r.arg=s.arg)}}}function w(e,t){var r=t.method,o=e.iterator[r];if(void 0===o)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=f(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:B}}function B(){return{value:void 0,done:!0}}return v.prototype=y,l(S,"constructor",{value:y,configurable:!0}),l(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,d,"GeneratorFunction")),e.prototype=Object.create(S),e},o.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,c,(function(){return this})),o.AsyncIterator=T,o.async=function(e,t,r,n,a){void 0===a&&(a=Promise);var l=new T(h(e,t,r,n),a);return o.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},E(S),u(S,d,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},o.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],l=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var i=a.call(n,"catchLoc"),s=a.call(n,"finallyLoc");if(i&&s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var l=n?n.completion:{};return l.type=e,l.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;_(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}));r(E);var T=E(),N=T;try{regeneratorRuntime=T}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=T:Function("r","regeneratorRuntime = r")(T)}
/*!
	 * helper-js v2.0.7
	 * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
	 * Homepage: null
	 * Released under the MIT License.
	 */var w=N.mark(j);function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function C(e){return"[object Array]"===Object.prototype.toString.call(e)}function P(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e){return"function"==typeof e}function M(e){return e[(t=0,r=e.length-1,Math.floor(Math.random()*(r-t+1)+t))];var t,r}function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",o=0;o<e;o++)r+=M(t);return r}function O(e){return e[e.length-1]}function $(e){return C(e)?e:[e]}function A(e,t){return e.slice(0,e.length-t)}function j(e){var t,r,o,n,a,l,i,s,c,d,u,h,f,p,g=arguments;return N.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if((t=g.length>1&&void 0!==g[1]?g[1]:{}).reverse){v.next=30;break}if(null==e.length){v.next=14;break}r=0;case 4:if(!(r<e.length)){v.next=12;break}if(o={value:e[r],index:r},t.exclude&&t.exclude(o)){v.next=9;break}return v.next=9,o;case 9:r++,v.next=4;break;case 12:v.next=28;break;case 14:if(!P(e)){v.next=27;break}n=0,a=Object.keys(e);case 16:if(!(n<a.length)){v.next=25;break}if(l=a[n],i={value:e[l],key:l},t.exclude&&t.exclude(i)){v.next=22;break}return v.next=22,i;case 22:n++,v.next=16;break;case 25:v.next=28;break;case 27:throw"Unsupported type";case 28:v.next=58;break;case 30:if(null==e.length){v.next=42;break}s=e.length-1;case 32:if(!(s>=0)){v.next=40;break}if(c={value:e[s],index:s},t.exclude&&t.exclude(c)){v.next=37;break}return v.next=37,c;case 37:s--,v.next=32;break;case 40:v.next=58;break;case 42:if(!P(e)){v.next=57;break}(d=Object.keys(e)).reverse(),u=0,h=d;case 46:if(!(u<h.length)){v.next=55;break}if(f=h[u],p={value:e[f],key:f},t.exclude&&t.exclude(p)){v.next=52;break}return v.next=52,p;case 52:u++,v.next=46;break;case 55:v.next=58;break;case 57:throw"Unsupported type";case 58:case"end":return v.stop()}}),w)}function L(e,t){Object.keys(t).forEach((function(r){null==e[r]&&(e[r]=t[r])}))}var F=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=C(e)?e:[e],a=v((function e(){y(this,e)})),l=function e(n,l,i){o.reverse&&(n=n.slice()).reverse();for(var s=n.length,c=0;c<s;c++){var d=n[c],u=o.reverse?s-c-1:c,h=i?[].concat(S(i),[u]):[],f=t(d,u,l,h);if(!1===f)throw new a;if("skip children"!==f){if("skip siblings"===f)break;null!=d[r]&&e(d[r],d,h)}}};try{l(n,null,C(e)?[]:null)}catch(e){if(!(e instanceof a))throw e}},H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.childrenKey="children",this.data=t}return v(e,[{key:"rootChildren",get:function(){var e=this.childrenKey,t=this.data;return C(t)?t:t[e]}},{key:"iteratePath",value:N.mark((function e(t){var r,o,n,a,l,i,s,c,d,u,h,f,p,g,v,y,m,x=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:{},o=this.childrenKey,n=this.rootChildren,r.reverse){e.next=29;break}a=[],l=n,i=k(t),e.prev=6,i.s();case 8:if((s=i.n()).done){e.next=19;break}return c=s.value,d=[].concat(S(a),[c]),u=l[c],e.next=14,{path:d,node:u};case 14:a=d,l=u[o];case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:e.next=49;break;case 29:(h=S(this.iteratePath(t,Object.assign(Object.assign({},r),{reverse:!1})))).reverse(),f=k(h),e.prev=32,f.s();case 34:if((p=f.n()).done){e.next=41;break}return g=p.value,v=g.path,y=g.node,m=v,e.next=39,{path:m,node:y};case 39:e.next=34;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(32),f.e(e.t1);case 46:return e.prev=46,f.f(),e.finish(46);case 49:case"end":return e.stop()}}),e,this,[[6,21,24,27],[32,43,46,49]])}))},{key:"getAllNodes",value:function(e){var t,r=[],o=k(this.iteratePath(e));try{for(o.s();!(t=o.n()).done;){var n=t.value.node;r.push(n)}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"getNode",value:function(e){return O(this.getAllNodes(e))}},{key:"getNodeIndexAndParent",value:function(e){var t=e.slice(),r=t.pop();return{parent:this.getNode(t),index:r,parentPath:t}}},{key:"getNodeParent",value:function(e){return this.getNodeIndexAndParent(e).parent}},{key:"setPathNode",value:function(e,t){if(null==e||0===e.length)this.data=t;else{var r=this.childrenKey,o=this.rootChildren,n=this.getNodeIndexAndParent(e),a=n.parent,l=n.index;(1===e.length?o:a[r])[l]=t}}},{key:"removeNode",value:function(e){var t=this.childrenKey,r=this.rootChildren,o=this.getNodeIndexAndParent(e),n=o.parent,a=o.index,l=1===e.length?r:n[t],i=l[a];return l.splice(a,1),i}},{key:"walk",value:function(e,t){var r=this.childrenKey,o=this.data;return F(o,e,r,t)}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.childrenKey,o=new e;return o.childrenKey=r,this.walk((function(e,n,a,l){var i=Object.assign({},e);i[r]&&(i[r]=[]),t.afterNodeCreated&&t.afterNodeCreated(i,{oldNode:e,index:n,parent:a,path:l}),o.setPathNode(l,i)})),o.data}}]),e}();function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return B(e)?e.apply(void 0,S(t)):e}function Y(e,t){for(;;){if(null==e.parentElement)return!1;if(e.parentElement===t)return!0;e=e.parentElement}}function W(e){if(null!==e.parentNode)return e.parentNode.removeChild(e)}function X(e){var t=R(e),r=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var e=document.body,t=document.documentElement;return{top:(t=t.clientHeight?t:e).scrollTop,left:t.scrollLeft}}();return{x:t.left+r.left,y:t.top+r.top}}function R(e){var t=e.getBoundingClientRect(),r=t.top-document.documentElement.clientTop,o=t.bottom,n=t.left-document.documentElement.clientLeft,a=t.right;return{top:r,right:a,bottom:o,left:n,width:t.width||a-n,height:t.height||o-r,x:n,y:r}}var V=R;function U(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r&&r.withSelf?e:e.parentElement;o;){var n=t(o);if("break"===n)return;if(n)return o;o=o.parentElement}}function q(e,t){e["original_".concat(t)]=e.getAttribute(t)}function G(e,t){var r=e["original_".concat(t)];null==r?e.removeAttribute(t):e.setAttribute(t,r)}function K(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function Q(e,t){K(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function J(e,t,r){for(var o=arguments.length,n=new Array(o>3?o-3:0),a=3;a<o;a++)n[a-3]=arguments[a];e.addEventListener?e.addEventListener.apply(e,[t,r].concat(n)):e.attachEvent&&e.attachEvent.apply(e,["on".concat(t),r].concat(n))}function z(e,t,r){for(var o=arguments.length,n=new Array(o>3?o-3:0),a=3;a<o;a++)n[a-3]=arguments[a];e.removeEventListener?e.removeEventListener.apply(e,[t,r].concat(n)):e.detachEvent&&e.detachEvent.apply(e,["on".concat(t),r].concat(n))}function Z(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=j(e,{reverse:o.reverse}),a=k(n);try{for(a.s();!(r=a.n()).done;){var l=r.value,i=l.value,s=l.index;if(t(i,s))return i}}catch(e){a.e(e)}finally{a.f()}}function ee(e,t){var r=[e,t];return(document.elementsFromPoint||document.msElementsFromPoint||function(e,t){var r=[],o=void 0;do{o!==document.elementFromPoint(e,t)?(o=document.elementFromPoint(e,t),r.push(o),o.style.pointerEvents="none"):o=!1}while(o);return r.forEach((function(e){return e.style.pointerEvents="all"})),r}).apply(document,r)}function te(e){e.element||(e.element=document.scrollingElement||document.documentElement),null==e.duration&&(e.duration=0);var t,r=e.x,o=e.y,n=e.duration,a=e.element,l=0,i=a.scrollTop,s=o-i,c=a.scrollLeft,d=r-c,u=+new Date;return function f(){if(!e.beforeEveryFrame||!1!==e.beforeEveryFrame(l)){var p=(new Date).getTime()-u;null!=o&&(a.scrollTop=parseInt(h(i,s,p,n))),null!=r&&(a.scrollLeft=parseInt(h(c,d,p,n))),p<n?t=requestAnimationFrame(f):(null!=o&&(a.scrollTop=o),null!=r&&(a.scrollLeft=r)),l++}}(),function(){cancelAnimationFrame(t)};function h(e,t,r,o){return e+t*(r/o)}}function re(e,t){t.parentElement.insertBefore(e,t.nextSibling)}function oe(e,t){t.appendChild(e)}var ne=function(){function e(){y(this,e),this.store={}}return v(e,[{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"remember",value:function(e,t){return this.has(e)||(this.store[e]={value:t()}),this.store[e].value}},{key:"forget",value:function(e){e?this.has(e)&&delete this.store[e]:this.store={}}}]),e}();function ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ne,o=function(o){var n=t[o];Object.defineProperty(e,o,{get:function(){var e=this;return r.remember(o,(function(){return n.call(e)}))}})};for(var n in t)o(n)}
/*!
	 * vue-functions v2.0.6
	 * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
	 * Homepage: undefined
	 * Released under the MIT License.
	 */var le={methods:{_getNonPropHooksByName:function(e){if(this._hooks)return this._hooks[e]},addHook:function(e,t){this._getNonPropHooksByName(e)||(this._hooks||(this._hooks={}),this._hooks[e]||(this._hooks[e]=[])),this._hooks[e].push(t)},removeHook:function(e,t){var r=this._getNonPropHooksByName(e);r&&function(e,t){for(var r,o=0;(r=e.indexOf(t))>-1;)e.splice(r,1),o++}(r,t)},hasHook:function(e){return this._getNonPropHooksByName(e)||this[e]},executeHook:function(e,t){var r=this,o=this._getNonPropHooksByName(e);return o=o?o.slice():[],this[e]&&B(this[e])&&o.push((function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return r[e].apply(r,n)})),function(e){var t,r=function(){},o=k(j(e,{reverse:!0}));try{for(o.s();!(t=o.n()).done;){r=n(t.value.value,r)}}catch(e){o.e(e)}finally{o.f()}return r;function n(e,t){return function(){for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e.apply(void 0,[t].concat(o))}}}(o).apply(void 0,S(t))}}};function ie(e,t){return new H(e).clone(t)}function se(e,t,r){return new H(e).walk(t,r)}function ce(e){return ie(e,{afterNodeCreated:e=>{Object.keys(e).forEach(t=>{"$"===t[0]&&delete e[t]})}})}const de={},ue={render:function(){const e=e=>e||"",r=(o,n,a)=>{const l={[this.rtl?"paddingRight":"paddingLeft"]:a.length*this.indent+"px"};return t.createVNode("div",{class:`tree-children ${e(n===this.rootNode&&"tree-root")} ${e(n.$childrenClass)}`,style:n.$childrenStyle||{}},[o.map((o,n)=>{const i=[...a,n],s=this.foldingTransition||"transition";let c=l;return o.$nodeBackStyle&&(c={...c,...o.$nodeBackStyle}),t.createVNode("div",{class:`tree-branch ${e(o.$branchClass)} ${e(o.$hidden&&"he-tree--hidden")}`,style:o.$branchStyle||{},"data-tree-node-path":i.join(",")},[t.createVNode("div",{class:"tree-node-back "+e(o.$nodeBackClass),style:c||{}},[t.createVNode("div",{class:"tree-node "+e(o.$nodeClass),style:o.$nodeStyle||{}},[(()=>{const e=()=>this.$slots.default?this.$slots.default({node:o,index:n,path:i,tree:this}):o.text;return this.overrideSlotDefault?this.overrideSlotDefault({node:o,index:n,path:i,tree:this},e):e()})()])]),(o.children&&o.children.length)>0&&t.createVNode(s,{name:this.$props.foldingTransitionName},{default:()=>[!o.$folded&&r(o.children,o,i)]})])})])};return t.createVNode("div",{class:`he-tree ${this.treeClass} ${e(this.rtl&&"he-tree--rtl")}`,"data-tree-id":this.treeId},[this.blockHeader&&this.blockHeader(),r(this.rootNode.children,this.rootNode,[]),this.blockFooter&&this.blockFooter()])},mixins:[function(e){e=B(e)?e():Object.assign({},e);var t={},r=function(r){var o=e[r];o.$localName||(o.$localName="localProps_".concat(r)),o.$localSetter||(o.$localSetter=function(e){return e});var n={};t[r]=n,Object.keys(e[r]).forEach((function(e){"$"!==e[0]&&(n[e]=o[e])}))};for(var o in e)r(o);for(var n={props:t,computed:{},watch:{},data:function(){for(var t={localValueOfUpdatableProps:{}},r=0,o=Object.keys(e);r<o.length;r++){var n=o[r];t.localValueOfUpdatableProps[n]=this[n]}return t}},a=function(){var t=i[l],r=e[t];n.watch[t]=function(e){this.localValueOfUpdatableProps[t]=r.$localSetter(e,this)};var o=r.$localName;n.computed[o]={get:function(){return this.localValueOfUpdatableProps[t]},set:function(e){"value"===t?this.$emit("input",e):this.$emit("update:".concat(t),e),this.localValueOfUpdatableProps[t]=r.$localSetter(e,this)}}},l=0,i=Object.keys(e);l<i.length;l++)a();return n}({value:{$localName:"treeData",required:!0}}),le],props:{indent:{type:Number,default:20},rtl:{type:Boolean},rootNode:{default:e=>({})}},data:()=>({trees:de,treeClass:"",treeId:D(),blockHeader:null,blockFooter:null,overrideSlotDefault:null}),watch:{treeData:{immediate:!0,handler(e){this._TreeDataHelper=new H(this.treeData)}}},methods:{iteratePath(e,t){return this._TreeDataHelper.iteratePath(e,t)},getTreeVmByTreeEl(e){return this.trees[e.getAttribute("data-tree-id")]},getAllNodesByPath(e){return this._TreeDataHelper.getAllNodes(e)},getNodeByPath(e){return this._TreeDataHelper.getNode(e)},getPathByBranchEl:e=>e.getAttribute("data-tree-node-path").split(",").map(e=>parseInt(e)),getBranchElByPath(e){return this.$el.querySelector(`[data-tree-node-path='${e.join(",")}']`)},getNodeByBranchEl(e){return this.getNodeByPath(this.getPathByBranchEl(e))},getNodeParentByPath(e){return this._TreeDataHelper.getNodeParent(e)},removeNodeByPath(e){return this._TreeDataHelper.removeNode(e)},walkTreeData(e,t){return se(this.treeData,e,t)},cloneTreeData(e){return ie(this.treeData,e)},getPureTreeData(){return ce(this.treeData)}},created(){const e=()=>{this.rootNode.children=this.treeData};this.$watch("rootNode",e,{immediate:!0}),this.$watch("treeData",e,{immediate:!0})},mounted(){this.treeId=D(),this.trees[this.treeId]=this},beforeUnmount(){delete this.trees[this.treeId]},mixPlugins(e){return{name:"Tree",extends:ue,mixins:e,mixPlugins:this.mixPlugins}}};var he={props:{foldingTransitionName:{type:String},foldingTransition:{},foldAllAfterMounted:{type:Boolean}},emits:["nodeFoldedChanged","node-folded-changed"],methods:{fold(e,t){e.$folded||(e.$folded=!0,this.$emit("nodeFoldedChanged",e),this.$emit("node-folded-changed",e))},unfold(e,t,r={}){(r={foldOthers:!1,...r}).foldOthers&&this.foldAll(),e.$folded&&(e.$folded=!1,this.$emit("nodeFoldedChanged",e))},toggleFold(e,t,r){e.$folded?this.unfold(e,t,r):this.fold(e,t,r)},foldAll(){this.walkTreeData(e=>{this.fold(e)})},unfoldAll(){this.walkTreeData(e=>{this.unfold(e,{unfoldParent:!1})})}},mounted(){this.foldAllAfterMounted&&this.foldAll()}},fe={props:{},methods:{afterCheckChanged(e,t){const r=this.getAllNodesByPath(t),o=r.slice(0,r.length-1);o.reverse();for(const e of o)e.$checked=e.children.every(e=>e.$checked);e.children&&e.children.length>0&&se(e.children,t=>{t.$checked=e.$checked})},check(e,t){e.$checked=!0,this.afterCheckChanged(e,t)},uncheck(e,t){e.$checked=!1,this.afterCheckChanged(e,t)},toggleCheck(e,t){e.$checked=!e.$checked,this.afterCheckChanged(e,t)}}},pe={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},ge={isTouch:function(e){return e.type&&e.type.startsWith("touch")},_getStore:function(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on:function(e,t,r,o){var n,a,l=ve(o),i=l.args,s=l.mouseArgs,c=l.touchArgs,d=this._getStore(e),u=this,h=function(e){var o;if(u.isTouch(e))o={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,screenX:e.changedTouches[0].screenX,screenY:e.changedTouches[0].screenY};else if(o={x:e.pageX,y:e.pageY,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY},"start"===t&&1!==e.which)return;return r.call(this,e,o)};d.push({handler:r,wrapper:h}),(n=J).call.apply(n,[null,e,pe[t][0],h].concat([].concat(S(i),S(s)))),(a=J).call.apply(a,[null,e,pe[t][1],h].concat([].concat(S(i),S(c))))},off:function(e,t,r,o){for(var n=ve(o),a=n.args,l=n.mouseArgs,i=this._getStore(e),s=i.length-1;s>=0;s--){var c,d,u=i[s],h=u.handler,f=u.wrapper;if(r===h)(c=z).call.apply(c,[null,e,pe[t][0],f].concat([].concat(S(a),S(l)))),(d=z).call.apply(d,[null,e,pe[t][1],f].concat([].concat(S(a),S(l)))),i.splice(s,1)}}};function ve(e){return e||(e={}),{args:e.args||[],mouseArgs:e.mouseArgs||[],touchArgs:e.touchArgs||[]}}
/*!
	 * draggable-helper v5.0.6
	 * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
	 * Homepage: undefined
	 * Released under the MIT License.
	 */function ye(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,n=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw n}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var xe={afterFirstMove:function(e,t){},afterMove:function(e,t){},afterDrop:function(e,t){}};var be,Se,Ee={ingoreTags:["INPUT","TEXTAREA","SELECT","OPTGROUP","OPTION"],undraggableClassName:"undraggable",minDisplacement:10,draggingClassName:"dragging",clone:!1,updateMovedElementStyleManually:!1,preventTextSelection:!0,edgeScrollTriggerMargin:50,edgeScrollSpeed:.35,edgeScrollTriggerMode:"top_left_corner"},Te={movedCount:0};function Ne(){be&&(be(),be=null),Se&&(Se(),Se=null)}function we(e,t={}){t={...t,treeEl:e};const{destroy:r,options:o}=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(r,Ee);var o=function(o,l){ge.isTouch(o)?r.ontouchstart&&r.ontouchstart(o):r.onmousedown&&r.onmousedown(o);var i=o.target;if(!r.ingoreTags.includes(i.tagName)&&(!K(i,r.undraggableClassName)&&!U(i,(function(t){return!!K(t,r.undraggableClassName)||(t===e?"break":void 0)})))){(t=JSON.parse(JSON.stringify(Te))).startEvent=o,t.listenerElement=e,t.directTriggerElement=i,t.initialMouse=Object.assign({},l);var s=!1;if(r.getTriggerElement){var c=r.getTriggerElement(t.directTriggerElement,t);if(!c)return;t.triggerElement=c}else if(r.triggerClassName){var d,u,h=ye($(r.triggerClassName));try{var f=function(){var r=u.value;if(d=U(t.directTriggerElement,(function(t){return!!K(t,r)||(t===e?"break":void 0)}),{withSelf:!0}))return"break"};for(h.s();!(u=h.n()).done;){if("break"===f())break}}catch(e){h.e(e)}finally{h.f()}if(!d)return;t.triggerElement=d}else s=!0;t.movedOrClonedElement=r.getMovedOrClonedElement?r.getMovedOrClonedElement(t.directTriggerElement,t,r):e,t.movedOrClonedElement&&(s&&(t.triggerElement=t.movedOrClonedElement),r.triggerBySelf&&t.triggerElement!==t.directTriggerElement||(ge.isTouch(o)||r.preventTextSelection&&o.preventDefault(),ge.on(document,"move",n,{touchArgs:[{passive:!1}]}),ge.on(window,"end",a)))}};ge.on(e,"start",o,{touchArgs:[{passive:!0}]});var n=function(e,o){ge.isTouch(e)?r.ontouchmove&&r.ontouchmove(e):r.onmousemove&&r.onmousemove(e);var n=t.movedOrClonedElement,a=t.move={x:o.clientX-t.initialMouse.clientX,y:o.clientY-t.initialMouse.clientY};if(t.moveEvent=e,t.mouse=o,(ge.isTouch(e)||r.preventTextSelection)&&e.preventDefault(),0===t.movedCount){if(r.minDisplacement){var l=Math.pow(a.x,2),i=Math.pow(a.y,2);if(Math.pow(l+i,.5)<r.minDisplacement)return}var s=r.clone?n.cloneNode(!0):n,c=V(n);t.movedOrClonedElement=n,t.movedElement=s,t.initialPositionRelativeToViewport=c,t.initialPosition=c;if(t.updateMovedElementStyle=function(){r.clone&&t.movedOrClonedElement.parentElement.appendChild(s);var e=R(s),o={width:"".concat(Math.ceil(e.width),"px"),height:"".concat(Math.ceil(e.height),"px"),zIndex:9999,opacity:.8,position:"fixed",left:c.x+"px",top:c.y+"px",pointerEvents:"none"};for(var n in q(s,"style"),o)s.style[n]=o[n];q(s,"class"),Q(s,r.draggingClassName);var a=V(s);a.x!==c.x&&(c.x=c.x-(a.x-c.x),c.y=c.y-(a.y-c.y),s.style.left=c.x+"px",s.style.top=c.y+"px")},r.beforeFirstMove&&!1===r.beforeFirstMove(t,r))return;if(r.beforeMove&&!1===r.beforeMove(t,r))return;r.updateMovedElementStyleManually||t.updateMovedElementStyle(),xe.afterFirstMove(t,r),r.afterFirstMove&&r.afterFirstMove(t,r)}else{if(t.updateMovedElementStyle=function(){Object.assign(t.movedElement.style,{left:t.initialPosition.x+a.x+"px",top:t.initialPosition.y+a.y+"px"})},r.beforeMove&&!1===r.beforeMove(t,r))return;r.updateMovedElementStyleManually||t.updateMovedElementStyle()}xe.afterMove(t,r),t.movedCount++,r.afterMove&&r.afterMove(t,r)},a=function e(o){if(ge.isTouch(o)?r.ontouchend&&r.ontouchend(o):r.onmousedown&&r.onmousedown(o),ge.off(document,"move",n,{touchArgs:[{passive:!1}]}),ge.off(window,"end",e),0!==t.movedCount){t.endEvent=o;var a=t.movedElement,l=function(){G(a,"style"),G(a,"class"),r.clone&&a.parentElement.removeChild(a)};t.updateMovedElementStyle=l,r.beforeDrop&&!1===r.beforeDrop(t,r)||(r.updateMovedElementStyleManually||l(),xe.afterDrop(t,r),r.afterDrop&&r.afterDrop(t,r))}},l=function(){ge.off(e,"start",o,{touchArgs:[{passive:!0}]}),ge.off(document,"move",n,{touchArgs:[{passive:!1}]}),ge.off(window,"end",a)};return{destroy:l,options:r}}(e,{triggerClassName:t.triggerClass,triggerBySelf:t.triggerBySelf,draggingClassName:t.draggingClass,clone:t.cloneWhenDrag,edgeScroll:t.edgeScroll,edgeScrollTriggerMargin:t.edgeScrollTriggerMargin,edgeScrollSpeed:t.edgeScrollSpeed,edgeScrollTriggerMode:t.edgeScrollTriggerMode,edgeScrollSpecifiedContainerX:t.edgeScrollSpecifiedContainerX,edgeScrollSpecifiedContainerY:t.edgeScrollSpecifiedContainerY,rtl:t.rtl,preventTextSelection:t.preventTextSelection,updateMovedElementStyleManually:!0,getMovedOrClonedElement:(e,r)=>U(r.triggerElement,e=>K(e,t.branchClass),{withSelf:!0}),beforeFirstMove(r,o){if(r.startTreeEl=e,r.dragBranchEl=r.movedElement,r.startPath=t.getPathByBranchEl(r.movedOrClonedElement),t.beforeFirstMove&&!1===t.beforeFirstMove(r,o))return!1},beforeMove:(e,r)=>{const o=()=>{const r=t.getPathByBranchEl(e.placeholder);e.placeholder.querySelector("."+t.nodeBackClass).style[t.rtl?"paddingRight":"paddingLeft"]=(r.length-1)*t.indent+"px",0===e.tempChildren.children.length&&W(e.tempChildren)};if(0===e.movedCount){const r=(a=`\n          <div id="${t.placeholderId}" class="${t.branchClass} ${t.placeholderClass}">\n            <div class="${t.nodeBackClass} ${t.placeholderNodeBackClass}">\n              <div class="${t.nodeClass} ${t.placeholderNodeClass}">\n              </div>\n            </div>\n          </div>\n        `,(l=document.createElement("div")).innerHTML=a.trim(),l.childNodes.length>1?l.childNodes:l.childNodes[0]);re(r,e.movedOrClonedElement),e.placeholder=r,t.afterPlaceholderCreated(e);const n=document.createElement("DIV");return Q(n,t.childrenClass),e.tempChildren=n,o(),void e.updateMovedElementStyle()}var a,l;e.updateMovedElementStyle(),e.oneMoveStore={};const i=e.movedElement;let s;const c=i.querySelector("."+t.nodeClass);let d,u,h=X(c),f=R(c);if("mouse"===t.draggingNodePositionMode){const{moveEvent:t}=e;h={x:t.pageX,y:t.pageY},f={x:t.clientX,y:t.clientY}}else t.rtl&&(h.x+=c.offsetWidth,f.x+=c.offsetWidth);for(const e of ee(f.x,f.y))if(u||(u=e),K(e,t.treeClass)){d=e;break}if(u===d||Y(u,d)||(d=null),s=d,!s)return;if(!1===t.filterTargetTree(s,e,r))return;e.targetTreeEl=s;const p={tree:()=>s,root:()=>p.tree.querySelector("."+t.childrenClass),closestNode:()=>{const e=[],r=o=>{if(o!==p.tree){const r=o.querySelector("."+t.nodeClass);r&&!ke(r)&&e.push(r)}const n=o.querySelector("."+t.childrenClass);if(n)for(let e=0;e<n.children.length;e++){const o=n.children[e];o!==i&&K(o,t.branchClass)&&r(o)}};if(r(p.tree),0===e.length)return;let o;const n=function(e,t){var r,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n=Object.assign({start:0,end:e.length-1,maxTimes:1e3},n),l=a.start,i=a.end,s=n,c=s.returnNearestIfNoHit,d=s.maxTimes;null==l&&(l=0,i=e.length-1);for(var u,h=0;l>=0&&l<=i;){if(h>=d)throw Error("binarySearch: loop times is over ".concat(d,", you can increase the limit."));if((u=t(o=e[r=Math.floor((i-l)/2+l)],h))>0)i=r-1;else{if(!(u<0))return{index:r,value:o,count:h+1,hit:!0};l=r+1}h++}return c?{index:r,value:o,count:h+1,hit:!1,greater:u>0}:null}(e,e=>X(e).y-h.y,{returnNearestIfNoHit:!0});return o=n.hit?n.value:n.greater&&e[n.index-1]||n.value,o},closestNodeOffset:()=>X(p.closestNode),closestBranch:()=>U(p.closestNode,e=>K(e,t.branchClass)),closestNext:()=>{let e=p.closestBranch.nextSibling;for(;e;){if(e!==i&&K(e,t.branchClass)&&!ke(e))return e;e=e.nextSibling}},closestPrev:()=>{let e=p.closestBranch.previousSibling;for(;e;){if(e!==i&&K(e,t.branchClass)&&!ke(e))return e;e=e.previousSibling}},aboveBranch:()=>{if(p.closestBranch!==e.placeholder)return;if(g["closest has next"])return;let r,o=p.closestBranch,n=o.previousSibling;for(;n;){if(n!==i&&K(n,t.branchClass)&&!ke(n)){o=n,r=!0;break}n=n.previousSibling}for(r||(o=U(o,e=>K(e,t.branchClass)));o;){const r=o.querySelector("."+t.nodeClass);if(t.rtl){if(X(r).x+r.offsetWidth>=h.x)break}else if(X(r).x<=h.x)break;let n,a=o.nextSibling;for(;a;){if(a!==i&&a!==e.placeholder&&K(a,t.branchClass)&&!ke(a)){n=!0;break}a=a.nextSibling}if(n)break;const l=U(o,e=>K(e,t.branchClass));if(!l)break;o=l}return o}},g={"no closest":()=>!p.closestNode,"closest is top":()=>p.closestBranch===Z(p.root.children,e=>e!==i&&!ke(e)),"closest is top excluding placeholder":()=>p.closestBranch===Z(p.root.children,t=>t!==i&&t!==e.placeholder&&!ke(t)),"on closest middle":()=>h.y<p.closestNodeOffset.y+p.closestNode.offsetHeight/2,"at closest indent right":()=>h.x>p.closestNodeOffset.x+t.indent,"at closest left":()=>h.x<p.closestNodeOffset.x,"closest is placeholder":()=>p.closestBranch===e.placeholder,"no aboveBranch":()=>!p.aboveBranch,"closest has next":()=>p.closestNext,"closest has prev":()=>p.closestPrev,"closest has children excluding placeholder movingEl":()=>{const r=p.closestBranch.querySelector("."+t.childrenClass);if(r)return Z(r.children,t=>t!==i&&t!==e.placeholder&&!ke(t))}};t.rtl&&Object.assign(g,{"at closest indent right":()=>h.x<p.closestNodeOffset.x+p.closestNode.offsetWidth-t.indent,"at closest left":()=>h.x>p.closestNodeOffset.x+p.closestNode.offsetWidth}),Object.keys(g).forEach(e=>{const t=g[e];g[e]=function(){return Boolean(t.call(this))}}),ae(p,p),ae(g,g),e.oneMoveStore.info=p,e.oneMoveStore.conditions=g;const v=(t,...r)=>{e._doActionQueue||(e._doActionQueue=Promise.resolve());const n=e._doActionQueue;e._doActionQueue=n.then(async()=>{e.oneMoveStore.actionRecords||(e.oneMoveStore.actionRecords=[]);const{actionRecords:n}=e.oneMoveStore,a=(0,y[t])(...r);n.push(t),await a,o()})},y={async nothing(){},async"append to root"(){t.isTargetTreeRootDroppable(e)&&oe(e.placeholder,p.root)},async"insert before"(){if(!t.isNodeParentDroppable(p.closestBranch,e.targetTreeEl))return m(n(p.closestBranch));var r,o;r=e.placeholder,(o=p.closestBranch).parentElement.insertBefore(r,o)},async"insert after"(r=p.closestBranch){if(t.isNodeParentDroppable(r,e.targetTreeEl))re(e.placeholder,r);else{const t=await m(n(r)),o=!e.oneMoveStore.actionRecords||1===e.oneMoveStore.actionRecords.length;if(!t&&o)return x(r)}},async prepend(){if(p.closestBranch!==e.placeholder)return t.ifNodeFolded(p.closestBranch,e)&&!t.unfoldWhenDragover?v("insert after",p.closestBranch):t.isNodeDroppable(p.closestBranch,e.targetTreeEl)?void await S(p.closestBranch):m(p.closestBranch)},async"after above"(){if(!t.isNodeParentDroppable(p.aboveBranch,e.targetTreeEl))return m(n(p.aboveBranch));re(e.placeholder,p.aboveBranch)},async"append to prev"(){if(p.closestPrev!==e.placeholder){if(t.ifNodeFolded(p.closestPrev,e))return v("insert after",p.closestPrev);if(!t.isNodeDroppable(p.closestPrev,e.targetTreeEl))return m(p.closestPrev);{const t=await b(p.closestPrev);oe(e.placeholder,t)}}}},m=async r=>{if(r){const o=t._findClosestDroppablePosition(r,e.targetTreeEl);if(o)return re(e.placeholder,o),!0}},x=async r=>{!t.ifNodeFolded(r,e)&&t.isNodeDroppable(r,e.targetTreeEl)&&await S(r)},b=async r=>{await t.unfoldTargetNodeByEl(r,e);let o=r.querySelector("."+t.childrenClass);return o||(o=e.tempChildren,oe(o,r)),o},S=async r=>{const o=async()=>{const t=await b(r);var o,n;o=e.placeholder,(n=t).insertBefore(o,n.firstChild)};if(t.ifNodeFolded(r,e)){let r=e.oneMoveStore;setTimeout(()=>{r===e.oneMoveStore&&o()},t.unfoldWhenDragoverDelay)}else await o()};!function({conditions:e,doAction:t}){!0===e["no closest"]?t("append to root"):!1===e["no closest"]&&(!0===e["closest is top"]?!0===e["on closest middle"]?t("insert before"):!1===e["on closest middle"]&&(!0===e["at closest indent right"]?t("prepend"):!1===e["at closest indent right"]&&(!0===e["closest is placeholder"]?t("insert after"):!1===e["closest is placeholder"]&&(!0===e["closest has children excluding placeholder movingEl"]?t("prepend"):!1===e["closest has children excluding placeholder movingEl"]&&t("insert after")))):!1===e["closest is top"]&&(!0===e["on closest middle"]?!1===e["at closest indent right"]?!1===e["at closest left"]?!1===e["closest is placeholder"]?!0===e["closest has next"]?!1===e["closest has children excluding placeholder movingEl"]?t("insert after"):!0===e["closest has children excluding placeholder movingEl"]&&t("prepend"):!1===e["closest has next"]&&(!0===e["closest has children excluding placeholder movingEl"]?t("prepend"):!1===e["closest has children excluding placeholder movingEl"]&&t("insert after")):!0===e["closest is placeholder"]&&t("nothing"):!0===e["at closest left"]&&(!0===e["closest is placeholder"]?!0===e["no aboveBranch"]?t("nothing"):!1===e["no aboveBranch"]&&t("after above"):!1===e["closest is placeholder"]&&(!1===e["closest has children excluding placeholder movingEl"]?t("insert after"):!0===e["closest has children excluding placeholder movingEl"]&&t("prepend"))):!0===e["at closest indent right"]&&(!1===e["closest is placeholder"]?!0===e["closest has next"]?!1===e["closest has children excluding placeholder movingEl"]?t("prepend"):!0===e["closest has children excluding placeholder movingEl"]&&(!0===e["closest is top excluding placeholder"]?t("insert before"):!1===e["closest is top excluding placeholder"]&&t("prepend")):!1===e["closest has next"]&&t("prepend"):!0===e["closest is placeholder"]&&(!0===e["no aboveBranch"]?!1===e["closest has prev"]?t("nothing"):!0===e["closest has prev"]&&t("append to prev"):!1===e["no aboveBranch"]&&(!0===e["closest has prev"]?t("append to prev"):!1===e["closest has prev"]&&t("nothing")))):!1===e["on closest middle"]&&(!1===e["at closest indent right"]?!1===e["at closest left"]?!1===e["closest is placeholder"]?!0===e["closest has children excluding placeholder movingEl"]?t("prepend"):!1===e["closest has children excluding placeholder movingEl"]&&t("insert after"):!0===e["closest is placeholder"]&&t("nothing"):!0===e["at closest left"]&&(!0===e["closest is placeholder"]?!1===e["no aboveBranch"]?t("after above"):!0===e["no aboveBranch"]&&t("nothing"):!1===e["closest is placeholder"]&&(!1===e["closest has next"]?!1===e["closest has children excluding placeholder movingEl"]?t("insert after"):!0===e["closest has children excluding placeholder movingEl"]&&t("prepend"):!0===e["closest has next"]&&(!0===e["closest has children excluding placeholder movingEl"]?t("prepend"):!1===e["closest has children excluding placeholder movingEl"]&&t("insert after")))):!0===e["at closest indent right"]&&(!0===e["closest is placeholder"]?!0===e["no aboveBranch"]?!1===e["closest has prev"]?t("nothing"):!0===e["closest has prev"]&&t("append to prev"):!1===e["no aboveBranch"]&&(!0===e["closest has prev"]?t("append to prev"):!1===e["closest has prev"]&&t("nothing")):!1===e["closest is placeholder"]&&t("prepend")))))}({options:t,event:e.moveEvent,store:e,opt:r,info:p,conditions:g,actions:y,doAction:v})},afterMove:(e,r)=>{t.afterMove&&t.afterMove(e,r)},beforeDrop:async(e,r)=>{e.movedElement;const{placeholder:o,tempChildren:n,movedCount:a,targetTreeEl:l,startTreeEl:i}=e;let s,c;if(l){s=l.cloneNode(!0),l.style.display="none",re(s,l),i!==l&&(c=i.cloneNode(!0),i.style.display="none",re(c,i)),e.targetPath=t.getPathByBranchEl(o);let n=function(){const{startTree:t,targetTree:r,startPath:o,targetPath:n}=e;if(t===r&&o.length===n.length){if(o.toString()===n.toString())return!1;{const e=o.slice(0);if(e[e.length-1]++,e.toString()===n.toString())return!1}}return!0}();e.targetPathNotEqualToStartPath=n,e.pathChangePrevented=!1,t.beforeDrop&&!1===t.beforeDrop(n,e,r)&&(n=!1,e.pathChangePrevented=!1),e.pathChanged=n}var d,u;W(o),n&&W(n),e.updateMovedElementStyle(),await t.afterDrop(e,r),s&&(await(d=30,new Promise((function(e,t){setTimeout((function(){u&&u(),e()}),d)}))),W(s),l.style.display="block",c&&(W(c),i.style.display="block"))}});return{destroy:r,options:t,optionsUpdated:function(){Object.assign(o,{triggerClassName:t.triggerClass,triggerBySelf:t.triggerBySelf,draggingClassName:t.draggingClass,clone:t.cloneWhenDrag,edgeScroll:t.edgeScroll,edgeScrollTriggerMargin:t.edgeScrollTriggerMargin,edgeScrollSpeed:t.edgeScrollSpeed,edgeScrollTriggerMode:t.edgeScrollTriggerMode,rtl:t.rtl,preventTextSelection:t.preventTextSelection})}};function n(e){return U(e,e=>!!K(e,t.branchClass)||(K(e,t.rootClass)?"break":void 0))}}function ke(e){return 0===e.offsetWidth&&0===e.offsetHeight}xe.afterMove=function(e,t){if(t.edgeScroll){var r=t.edgeScrollTriggerMargin;Ne();var o,n,a,l,i,s,c,d={x:e.mouse.clientX,y:e.mouse.clientY};if("top_left_corner"===t.edgeScrollTriggerMode){var u=V(e.movedElement);d={x:u.x,y:u.y}}var h;if(t.edgeScrollSpecifiedContainerX)(h="function"==typeof t.edgeScrollSpecifiedContainerX?t.edgeScrollSpecifiedContainerX(e,t):t.edgeScrollSpecifiedContainerX)&&(s=[h]);s||(c=s=ee(d.x,d.y));var f,p,g=ye(s);try{for(g.s();!(f=g.n()).done;){var v=f.value;if(!a||Y(a,v)){if(!o&&v.scrollWidth>v.clientWidth){var y=N(v);d.x<=y.left+r?T(v,"left")>10&&E(v,"x")&&(o=v,l="left"):d.x>=y.left+v.clientWidth-r&&T(v,"right")>10&&E(v,"x")&&(o=v,l="right")}if(o)break;a=v}}}catch(e){g.e(e)}finally{g.f()}if(a=null,s=null,t.edgeScrollSpecifiedContainerY)(p="function"==typeof t.edgeScrollSpecifiedContainerY?t.edgeScrollSpecifiedContainerY(e,t):t.edgeScrollSpecifiedContainerY)&&(s=[p]);s||(s=c||ee(d.x,d.y));var m,x=ye(s);try{for(x.s();!(m=x.n()).done;){var b=m.value;if(!a||Y(a,b)){if(!n&&b.scrollHeight>b.clientHeight){var S=N(b);d.y<=S.top+r?T(b,"up")>10&&E(b,"y")&&(n=b,i="up"):d.y>=S.top+b.clientHeight-r&&T(b,"down")>10&&E(b,"y")&&(n=b,i="down")}if(n)break;a=b}}}catch(e){x.e(e)}finally{x.f()}o&&(be=te("left"===l?{x:0,element:o,duration:T(o,"left")/t.edgeScrollSpeed}:{x:o.scrollWidth-o.clientWidth,element:o,duration:T(o,"right")/t.edgeScrollSpeed})),n&&(Se=te("up"===i?{y:0,element:n,duration:T(n,"up")/t.edgeScrollSpeed}:{y:n.scrollHeight-n.clientHeight,element:n,duration:T(n,"down")/t.edgeScrollSpeed}))}function E(e,t){var r=getComputedStyle(e),o="overflow-".concat(t);return e===(document.scrollingElement||document.documentElement)?"visible"===r[o]||"auto"===r[o]||"scroll"===r[o]:"auto"===r[o]||"scroll"===r[o]}function T(e,t){return"up"===t?e.scrollTop:"down"===t?e.scrollHeight-e.scrollTop-e.clientHeight:"left"===t?e.scrollLeft:"right"===t?e.scrollWidth-e.scrollLeft-e.clientWidth:void 0}function N(e){var t=V(e);return e===(document.scrollingElement||document.documentElement)&&(t.top=0,t.left=0),t}},xe.afterDrop=function(e,t){t.edgeScroll&&Ne()};const _e={};var Ce={props:{triggerClass:{type:[String,Array],default:"tree-node"},triggerBySelf:{type:Boolean},draggable:{type:[Boolean,Function],default:!0},droppable:{type:[Boolean,Function],default:!0},eachDraggable:{type:[Function]},eachDroppable:{type:[Function]},ondragstart:{type:Function},ondragend:{type:Function},unfoldWhenDragover:{type:Boolean,default:!0},unfoldWhenDragoverDelay:{type:Number,default:30},draggingNodePositionMode:{type:String,default:"top_left_corner"},edgeScroll:{type:Boolean},edgeScrollTriggerMargin:{type:Number,default:50},edgeScrollSpeed:{type:Number,default:.35},edgeScrollTriggerMode:{type:String,default:"top_left_corner"},edgeScrollSpecifiedContainerX:{},edgeScrollSpecifiedContainerY:{},preventTextSelection:{type:Boolean,default:!0}},emits:["afterPlaceholderCreated","after-placeholder-created","before-first-move","drag","he-tree-drag","after-move","he-tree-before-drop","input","change","drop","he-tree-drop"],data:()=>({treesStore:_e}),methods:{_Draggable_unfoldTargetNodeByEl(e,t){const{targetTree:r}=t,o=r.getPathByBranchEl(e),n=r.getNodeByPath(o);return r.unfold&&r.unfold(n,o),new Promise((e,t)=>{r.$nextTick(()=>{e()})})},isNodeDraggable(e,t){const{store:r}=this.treesStore,o=this.getAllNodesByPath(t);o.unshift(this.rootNode);for(const{value:e,index:n}of j(o,{reverse:!0})){const o=t.slice(0,n+1),a=I(void 0!==e.$draggable?e.$draggable:this.eachDraggable,[o,this,r]);if(void 0!==a)return a}return!0},isNodeDroppable(e,t){const{store:r}=this.treesStore,o=this.getAllNodesByPath(t);let n,a;o.unshift(this.rootNode);for(const{value:e,index:l}of j(o,{reverse:!0})){const o=t.slice(0,l+1),i=I(void 0!==e.$droppable?e.$droppable:this.eachDroppable,[o,this,r]);if(void 0!==i){n=i,a=!0;break}}return a||(n=!0),this._internal_hook_isNodeDroppable?this._internal_hook_isNodeDroppable({droppableFinal:n,node:e,path:t,store:r}):n},getPathByBranchEl(e){this.treesStore.store;const t=e=>{const t=e.getAttribute("data-tree-node-path");if(t)return t.split(",").map(e=>parseInt(e))},r=t(e);if(r)return r;let o;U(e,e=>K(e,"tree-root")?(o=[],!0):K(e,"tree-branch")?(o=t(e),!0):void 0);let n=0;for(const{value:t,index:r}of j(e.parentElement.children))if(K(t,"tree-branch")||K(t,"tree-placeholder")){if(t===e)break;n++}return[...o,n]}},mounted(){const e=this._draggableOptions={indent:this.indent,triggerClass:this.triggerClass,triggerBySelf:this.triggerBySelf,unfoldWhenDragover:this.unfoldWhenDragover,unfoldWhenDragoverDelay:this.unfoldWhenDragoverDelay,draggingNodePositionMode:this.draggingNodePositionMode,cloneWhenDrag:this.cloneWhenDrag,edgeScroll:this.edgeScroll,edgeScrollTriggerMargin:this.edgeScrollTriggerMargin,edgeScrollSpeed:this.edgeScrollSpeed,edgeScrollTriggerMode:this.edgeScrollTriggerMode,edgeScrollSpecifiedContainerX:this.edgeScrollSpecifiedContainerX,edgeScrollSpecifiedContainerY:this.edgeScrollSpecifiedContainerY,rtl:this.rtl,preventTextSelection:this.preventTextSelection,treeClass:"he-tree",rootClass:"tree-root",childrenClass:"tree-children",branchClass:"tree-branch",nodeClass:"tree-node",nodeBackClass:"tree-node-back",placeholderClass:"tree-placeholder",placeholderNodeBackClass:"tree-placeholder-node-back",placeholderNodeClass:"tree-placeholder-node",draggingClass:"dragging",placeholderId:"he_tree_drag_placeholder",ifNodeFolded:(e,t)=>{const{targetTree:r}=t;return r.getNodeByBranchEl(e).$folded},isTargetTreeRootDroppable:e=>{const t=I(e.targetTree.rootNode.$droppable,[e.targetTree,e]);return void 0===t||t},unfoldTargetNodeByEl:(...e)=>this._Draggable_unfoldTargetNodeByEl(...e),isNodeParentDroppable:(e,t)=>{const r=this.getTreeVmByTreeEl(t),o=A(r.getPathByBranchEl(e),1),n=r.getNodeByPath(o);return r.isNodeDroppable(n,o)},isNodeDroppable:(e,t)=>{const r=this.getTreeVmByTreeEl(t),o=r.getPathByBranchEl(e),n=r.getNodeByPath(o);return r.isNodeDroppable(n,o)},_findClosestDroppablePosition:(e,t)=>{const r=this.getTreeVmByTreeEl(t),o=r.getPathByBranchEl(e),n=A(o,1);let a=o;for(const{node:e,path:t}of r.iteratePath(n,{reverse:!0})){if(r.isNodeDroppable(e,t))return r.getBranchElByPath(a);a=t}if(r.isNodeDroppable(this.rootNode,[]))return r.getBranchElByPath(a)},afterPlaceholderCreated:e=>{e.startTree.$emit("afterPlaceholderCreated",e),e.startTree.$emit("after-placeholder-created",e)},getPathByBranchEl:e=>this.getPathByBranchEl(e),beforeFirstMove:e=>{this.treesStore.store=e,e.startTree=this.getTreeVmByTreeEl(e.startTreeEl);if(!I(e.startTree.draggable,[e.startTree,e]))return!1;const{startTree:t,dragBranchEl:r,startPath:o}=e;return e.dragNode=t.getNodeByPath(o),this.cloneWhenDrag&&(e.dragNode=ie(e.dragNode)),!!t.isNodeDraggable(e.dragNode,o)&&((!t.hasHook("ondragstart")||!1!==t.executeHook("ondragstart",[t,e]))&&(e.startTree.$emit("before-first-move",e),e.startTree.$emit("drag",e),void this.$root.$emit("he-tree-drag",e)))},filterTargetTree:(e,t)=>{const r=this.getTreeVmByTreeEl(e),{startTree:o}=t;if(o!==r){if(!this._internal_hook_filterTargetTree)return!1;if(!1===this._internal_hook_filterTargetTree(r,t))return!1}return!!I(r.droppable,[r,t])&&(t.targetTree=r,!(!I(t.startTree===t.targetTree)&&I(this._Draggable_unfoldTargetNode,[!1,this.treeData])!==this.rootNode.children)&&void 0)},afterMove:e=>{e.startTree.$emit("after-move",e)},beforeDrop:(e,t)=>{const{targetTree:r}=t;if(r.hasHook("ondragend")&&!1===r.executeHook("ondragend",[r,t]))return!1;this.$root.$emit("he-tree-before-drop",t)},afterDrop:(e,t)=>{if(e.pathChanged){const{startTree:t,targetTree:r,startPath:o,dragNode:n}=e;let{targetPath:a}=e;if(!0!==this.cloneWhenDrag){const e=A(o,1),n=t.getNodeByPath(e),l=0===e.length?t.treeData:n.children,i=O(o);if(l.splice(i,1),t===r&&o.length<=a.length){const e=o.slice(0,o.length-1),t=a.slice(0,e.length);if(e.toString()===t.toString()){const t=e.length;o[t]<a[t]?a[t]-=1:o[t]===a[t]&&console.error("Draggable.afterDrop: That is impossible!")}}}const l=A(a,1),i=r.getNodeByPath(l);let s;0===l.length?s=r.treeData:(i.children||(i.children=[]),s=i.children);const c=O(a);return s.splice(c,0,n),t.$emit("input",t.treeData),t.$emit("change",e),r.$emit("drop",e),this.$root.$emit("he-tree-drop",e),r!==t&&(r.$emit("input",r.treeData),r.$emit("change",e)),new Promise((e,t)=>{r.$nextTick(()=>{e()})})}}},t=this._makeTreeDraggable_obj=we(this.$el,e);["indent","triggerClass","triggerBySelf","unfoldWhenDragover","unfoldWhenDragoverDelay","draggingNodePositionMode","cloneWhenDrag","edgeScroll","edgeScrollTriggerMargin","edgeScrollSpeed","edgeScrollTriggerMode","edgeScrollSpecifiedContainerY","edgeScrollSpecifiedContainerY","rtl","preventTextSelection"].forEach(e=>{this.$watch(e,r=>{t.options[e]=r,t.optionsUpdated()})})}};e.Check=fe,e.Draggable=Ce,e.Fold=he,e.Tree=ue,e.cloneTreeData=ie,e.foldAll=function(e){se(e,e=>{e.$folded=!0})},e.getPureTreeData=ce,e.unfoldAll=function(e){se(e,e=>{e.$folded=!1})},e.walkTreeData=se,Object.defineProperty(e,"__esModule",{value:!0})}));
